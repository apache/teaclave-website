"use strict";(self.webpackChunkapache_teaclave_website=self.webpackChunkapache_teaclave_website||[]).push([[2940],{5253:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"teaclave-trustzone-sdk/docs/release-tips","title":"TrustZone SDK Release Tips","description":"For the complete workflow and operational details, please refer to the Release Guide for the Teaclave Community.","source":"@site/docs/teaclave-trustzone-sdk/docs/release-tips.md","sourceDirName":"teaclave-trustzone-sdk/docs","slug":"/trustzone-sdk-docs/release-tips.md","permalink":"/trustzone-sdk-docs/release-tips.md","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"permalink":"/trustzone-sdk-docs/release-tips.md","slug":"/trustzone-sdk-docs/release-tips.md"}}');var a=s(4848),r=s(8453);const i={permalink:"/trustzone-sdk-docs/release-tips.md",slug:"/trustzone-sdk-docs/release-tips.md"},l="TrustZone SDK Release Tips",o={},c=[{value:"Release Schedule &amp; Stages",id:"release-schedule--stages",level:2},{value:"Release Schedule",id:"release-schedule",level:3},{value:"Specific for TrustZone SDK",id:"specific-for-trustzone-sdk",level:2},{value:"Publish on <code>crates.io</code>",id:"publish-on-cratesio",level:3},{value:"GitHub Action for Drafting Release Notes",id:"github-action-for-drafting-release-notes",level:3},{value:"Email template for voting",id:"email-template-for-voting",level:3}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"trustzone-sdk-release-tips",children:"TrustZone SDK Release Tips"})}),"\n",(0,a.jsxs)(t.p,{children:["For the complete workflow and operational details, please refer to the ",(0,a.jsx)(t.a,{href:"https://teaclave.apache.org/release-guide",children:"Release Guide for the Teaclave Community"}),".\nThis documentation highlights items that are specific to the ",(0,a.jsx)(t.code,{children:"TrustZone SDK"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"release-schedule--stages",children:"Release Schedule & Stages"}),"\n",(0,a.jsx)(t.h3,{id:"release-schedule",children:"Release Schedule"}),"\n",(0,a.jsxs)(t.p,{children:["Apache TrustZone SDK follows a quarterly release cycle, aligned with ",(0,a.jsx)(t.a,{href:"https://optee.readthedocs.io/en/latest/general/releases.html",children:"OP-TEE releases"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"The upcoming release in 2025 is as follows:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Apache Teaclave SDK Release Version"}),(0,a.jsx)(t.th,{children:"optee-* Rust crate Release version"}),(0,a.jsx)(t.th,{children:"OP-TEE Version"}),(0,a.jsx)(t.th,{children:"OP-TEE Release Date"}),(0,a.jsx)(t.th,{children:"Teaclave SDK Pre-release on Github (approximately)"}),(0,a.jsxs)(t.th,{children:["Teaclave SDK Finalized Release on Apache and ",(0,a.jsx)(t.code,{children:"crates.io"})," (approximately)"]})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"v0.7.0"}),(0,a.jsx)(t.td,{children:"v0.7.0"}),(0,a.jsx)(t.td,{children:"OP-TEE 4.8.0"}),(0,a.jsx)(t.td,{children:"17/Oct/25"}),(0,a.jsx)(t.td,{children:"31/Oct/25"}),(0,a.jsx)(t.td,{children:"14/Nov/25"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"v0.6.0"}),(0,a.jsx)(t.td,{children:"v0.6.0"}),(0,a.jsx)(t.td,{children:"OP-TEE 4.7.0"}),(0,a.jsx)(t.td,{children:"11/Jul/25"}),(0,a.jsx)(t.td,{children:"25/Jul/25"}),(0,a.jsx)(t.td,{children:"8/Aug/25"})]})]})]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Note:"})," The table outlines the planned release schedule under normal circumstances. However, if there are no updates to the optee-* crates in the SDK during a given quarter, the release will be skipped and deferred to the following quarter."]}),"\n",(0,a.jsxs)(t.p,{children:["According to the Release Documentation in ",(0,a.jsx)(t.a,{href:"https://teaclave.apache.org/release-guide",children:"Teaclave community"}),", the approximate timeline for v0.6.0:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"July 11"})," \u2013 OP-TEE 4.7.0 released"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"July 12\u201318"})," \u2013 Prepare the release"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"July 19\u201325"})," \u2013 Publish the pre-release on GitHub and start the vote"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"July 25 \u2013 August 8"})," \u2013 Voting period"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"August 8-15"})," \u2013 Post-release steps completed within one week"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"The timeline is flexible and can be adjusted based on the actual circumstances."}),"\n",(0,a.jsx)(t.h2,{id:"specific-for-trustzone-sdk",children:"Specific for TrustZone SDK"}),"\n",(0,a.jsxs)(t.h3,{id:"publish-on-cratesio",children:["Publish on ",(0,a.jsx)(t.code,{children:"crates.io"})]}),"\n",(0,a.jsxs)(t.p,{children:["We maintain the optee-* Rust crates at ",(0,a.jsx)(t.a,{href:"https://crates.io/search?q=optee",children:"https://crates.io/search?q=optee"}),", which are released in sync with Apache releases."]}),"\n",(0,a.jsx)(t.p,{children:"If the release manager needs permission to publish these crates, please contact @DemesneGH for access."}),"\n",(0,a.jsx)(t.p,{children:"After the Apache release is finalized, we need to publish the crates:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"cargo login\ncd [each-crates-dir] # should be in correct dependency order, e.g. first optee-teec-sys, then optee-teec\ncargo publish --dry-run  # check if ready, will not upload\ncargo publish # check and upload\n"})}),"\n",(0,a.jsx)(t.h3,{id:"github-action-for-drafting-release-notes",children:"GitHub Action for Drafting Release Notes"}),"\n",(0,a.jsx)(t.p,{children:"We use a GitHub Action to help categorize pull requests and generate a draft of the release notes. This makes the notes more readable and organized. The typical workflow is to first trigger the action, then manually edit the resulting draft as needed."}),"\n",(0,a.jsx)(t.p,{children:"Manually trigger the Github Action workflow to draft the release notes:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Go to Actions \u2192 Draft Release Notes"}),"\n",(0,a.jsx)(t.li,{children:"Click Run workflow"}),"\n",(0,a.jsx)(t.li,{children:"Enter the Version to release (e.g. 0.5.0)"}),"\n",(0,a.jsx)(t.li,{children:"Confirm to Run workflow"}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["After the workflow completes, a draft release will appear at:\n",(0,a.jsx)(t.a,{href:"https://github.com/apache/incubator-teaclave-trustzone-sdk/releases",children:"https://github.com/apache/incubator-teaclave-trustzone-sdk/releases"})]}),"\n",(0,a.jsx)(t.p,{children:"The workflow categorizes the PRs according to their labels."}),"\n",(0,a.jsx)(t.p,{children:"Tips for improving the draft release notes:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Add a brief summary at the top to highlight the major changes. You can write it manually or generate it using AI."}),"\n",(0,a.jsx)(t.li,{children:'Include sections such as \u201cNew Contributors\u201d and \u201cChangelog\u201d. Note: Our custom GitHub Action does not generate these sections by default. To get these missing parts, you can click the "Generate Release Notes" button on the release editing page and copy the generated content into the draft.'}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Please note that once a release is published (including pre-releases), its release notes can no longer be updated via GitHub Actions (manual edits are possible). If you need to update the release notes through Actions (e.g., to revise the release to rc.2 to include the new commits), you must first delete the existing release (e.g. tagged rc.1), then re-trigger the workflow."}),"\n",(0,a.jsx)(t.h3,{id:"email-template-for-voting",children:"Email template for voting"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:'Title: [VOTE] Release Apache Teaclave TrustZone SDK (incubating) v$VERSION-$RC\n\nHi all,\n\nI am pleased to be calling this vote for the release of\nApache Teaclave TrustZone SDK (incubating) $VERSION ($RC).\n\nThe release note is available in:\n- https://github.com/apache/incubator-teaclave-trustzone-sdk/releases/tag/v$VERSION-$RC\n\nThe release candidate to be voted over is available at:\n- https://dist.apache.org/repos/dist/dev/incubator/teaclave/trustzone-sdk-$VERSION-$RC/\n\nThe release candidate is signed with a GPG key available at:\n- https://downloads.apache.org/incubator/teaclave/KEYS \n\nInstructions to verify the release candidate\u2019s signature:\n- https://teaclave.apache.org/download/#verify-the-integrity-of-the-files\n\nA release checklist for reference:\n- https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist\n\nThe release artifacts have passed all GitHub Actions CI checks. You can also reproduce the build process manually from source using the following commands:\n\n```bash\n$ wget https://dist.apache.org/repos/dist/dev/incubator/teaclave/trustzone-sdk-$VERSION-$RC/apache-teaclave-trustzone-sdk-$VERSION-incubating.tar.gz\n$ tar zxvf apache-teaclave-trustzone-sdk-$VERSION-incubating.tar.gz\n$ cd apache-teaclave-trustzone-sdk-$VERSION-incubating\n$ docker run --rm -it -v$(pwd):/teaclave-trustzone-sdk -w \\\n/teaclave-trustzone-sdk yuanz0/teaclave-trustzone-sdk:ubuntu-24.04 \\\nbash -c "./setup.sh && (./build_optee_libraries.sh optee) && source \\\nenvironment && make && (cd ci && ./ci.sh)"\n```\n\nThe vote will be open for at least 72 hours. Anyone can participate\nin testing and voting, not just committers, please feel free to try\nout the release candidate and provide your votes to this thread\nexplicitly.\n\n[ ] +1 approve\n[ ] +0 no opinion\n[ ] -1 disapprove with the reason\n\n\nBest,\n$YOUR_NAME\n'})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>l});var n=s(6540);const a={},r=n.createContext(a);function i(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);